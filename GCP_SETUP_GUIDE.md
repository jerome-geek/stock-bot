# Google Cloud Platform (GCP) 설정 가이드

이 프로젝트는 구글 스프레드시트 API를 사용하여 분석 결과를 저장합니다. 이를 위해 GCP 프로젝트 설정과 서비스 계정 생성이 필요합니다. 아래 단계를 따라 설정해 주세요.

---

## 1. GCP 프로젝트 생성 및 API 활성화

1. [Google Cloud 콘솔](https://console.cloud.google.com/)에 접속합니다.
2. 좌측 상단 프로젝트 선택 드롭다운에서 **[새 프로젝트]**를 클릭하여 프로젝트를 생성합니다 (예: `Stock-Bot-Project`).
3. **API 및 서비스 > 라이브러리** 메뉴로 이동합니다.
4. 다음 두 가지 API를 검색하여 각각 **[사용 설정]**을 클릭합니다.
    - **Google Sheets API**
    - **Google Drive API**

## 2. 서비스 계정(Service Account) 생성

1. **API 및 서비스 > 사용자 인증 정보** 메뉴로 이동합니다.
2. 상단의 **[+ 사용자 인증 정보 만들기] > [서비스 계정]**을 선택합니다.
3. 서비스 계정 이름(예: `stock-bot-manager`)을 입력하고 **[만들기 및 계속하기]**를 클릭합니다.
4. 역할 설정(선택사항)은 무시하고 **[완료]**를 클릭합니다.

## 3. JSON 키 생성 및 다운로드

1. 생성된 서비스 계정 목록에서 해당 계정의 이메일을 클릭하여 상세 페이지로 들어갑니다.
2. 상단 탭에서 **[키]**를 선택합니다.
3. **[키 추가] > [새 키 만들기]**를 클릭합니다.
4. 키 유형으로 **JSON**을 선택하고 **[만들기]**를 클릭합니다.
5. 자동으로 다운로드된 JSON 파일의 이름을 `service_account.json`으로 변경하여 프로젝트 루트 폴더에 저장합니다.
    - **주의**: 이 파일은 비밀키이므로 절대 공용 저장소(GitHub 등)에 직접 업로드하지 마세요. (이미 `.gitignore`에 포함되어 있습니다.)

## 4. 구글 스프레드시트 공유

1. 분석 결과를 저장할 구글 스프레드시트를 새로 만듭니다.
2. 다운로드한 JSON 파일 내의 `"client_email"` 주소(예: `stock-bot-manager@...iam.gserviceaccount.com`)를 복사합니다.
3. 스프레드시트 우측 상단의 **[공유]** 버튼을 클릭하고, 복사한 이메일 주소를 추가하여 **'편집자'** 권한을 부여합니다.

## 5. GitHub Actions를 위한 설정 (선택 사항)

GitHub Actions를 통해 자동 실행을 원하신다면 다음 설정을 추가로 진행하세요.

1. GitHub 저장소의 **Settings > Secrets and variables > Actions** 메뉴로 이동합니다.
2. **[New repository secret]**을 클릭합니다.
3. Name에 `GCP_SERVICE_ACCOUNT`를 입력합니다.
4. Secret에 다운로드한 `service_account.json` 파일의 **내용 전체**를 복사하여 붙여넣고 저장합니다.

---

이제 모든 설정이 완료되었습니다! `uv run main.py` 명령어로 실행을 테스트해 보세요.
